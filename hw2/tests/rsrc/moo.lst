000000		.	=	150000
150000		.incld	defs.16
		;	Locations of useful monitor routines
		;
		getchr	=	512
		newln	=	1105
		space	=	1115
		rcall	=	1125
		call	=	1130
		ret4	=	1140
		ret3	=	1144
		ret2	=	1151
		ret1	=	1156
		ret0	=	1163
		ret	=	1167
		puts	=	1176
		putoct	=	1226
		div	=	1416
		mul	=	1533
		gchr0	=	1635
		gchr1	=	1643
		pchr0	=	1600
		pchr1	=	1606
		init0	=	1566
		init1	=	1573
		ischr0	=	1622
		ischr1	=	1626
		;
		;	The game of MOO - CP1600 version
		;
	001274	start:	mov	2000,r4
	002000	
150002	000700		clr	r0
150003	001340	st.1:	add	@r4+,r0
150004	001574		cmp	4000,r4
	004000	
150006	001045		blt	st.1
	000004	
150010	000004		jsr	r5,call
	000400	
	001130	
150013	150444		srand
150014	001270	newg:	mov	newmes,r0
	150306	
150016	000004		jsr	r5,call
	000400	
	001130	
150021	001176		puts
150022	000004		jsr	r5,call
	000400	
	001130	
150025	150121		select
150026	000711		clr	r1
150027	000004	in:	jsr	r5,call
	000400	
	001130	
150032	150161		input
150033	000004		jsr	r5,call
	000400	
	001130	
150036	150244		bulsht
150037	000011		inc	r1
150040	001200		mov	@bulls,r0
	150356	
150042	001570		cmp	4,r0
	000004	
150044	001004		beq	moo
	000030	
150046	000004		jsr	r5,call
	000400	
	001130	
150051	150370		putd
150052	001270		mov	bulmes,r0
	150344	
150054	000004		jsr	r5,call
	000400	
	001130	
150057	001176		puts
150060	001200		mov	@cows,r0
	150357	
150062	000004		jsr	r5,call
	000400	
	001130	
150065	150370		putd
150066	001270		mov	cowmes,r0
	150351	
150070	000004		jsr	r5,call
	000400	
	001130	
150073	001176		puts
150074	001040		b	in
	000046	
150076	001270	moo:	mov	moomes,r0
	150314	
150100	000004		jsr	r5,call
	000400	
	001130	
150103	001176		puts
150104	000210		mov	r1,r0
150105	000004		jsr	r5,call
	000400	
	001130	
150110	150370		putd
150111	001270		mov	guemes,r0
	150332	
150113	000004		jsr	r5,call
	000400	
	001130	
150116	001176		puts
150117	001040		b	newg
	000104	
150121		
	000711	select:	clr	r1
150122	001274		mov	secret,r4
	150360	
150124	000004	se.lo:	jsr	r5,call
	000400	
	001130	
150127	150450		rand
150130	000201		mov	r0,r1
150131	000700		clr	r0
150132	001272		mov	12,r2
	000012	
150134	000004		jsr	r5,call
	000400	
	001130	
150137	001416		div
150140	001275		mov	secret,r5
	150360	
150142	000554	se.ch:	cmp	r5,r4
150143	001004		beq	se.ok
	000005	
150145	001550		cmp	@r5+,r0
150146	001044		beq	se.lo
	000023	
150150	001040		b	se.ch
	000007	
150152	001140	se.ok:	mov	r0,@r4+
150153	001574		cmp	secret+4,r4
	150364	
150155	001054		bneq	se.lo
	000032	
150157	001000		jmp	ret
	031006	
150161		
	001274	input:	mov	ibuf,r4
	150364	
150163	001270		mov	promes,r0
	150340	
150165	000004		jsr	r5,call
	000400	
	001130	
150170	001176		puts
150171	000004	in.lo:	jsr	r5,call
	000400	
	001130	
150174	000512		getchr
150175	001574		cmp	ibuf+4,r4
	150370	
150177	001004		beq	in.1
	000025	
150201	001470		sub	'0,r0
	000060	
150203	001005		blt	in.go
	000027	
150205	001570		cmp	11,r0
	000011	
150207	001016		bgt	in.go
	000023	
150211	001275		mov	ibuf,r5
	150364	
150213	000554	in.2:	cmp	r5,r4
150214	001004		beq	in.3
	000005	
150216	001550		cmp	@r5+,r0
150217	001004		beq	in.go
	000013	
150221	001040		b	in.2
	000007	
150223	001140	in.3:	mov	r0,@r4+
150224	001040		b	in.lo
	000034	
150226	001570	in.1:	cmp	15,r0
	000015	
150230	001014		bneq	in.go
	000002	
150232	001000		jmp	ret
	030733	
150234	001270	in.go:	mov	gormes,r0
	150322	
150236	000004		jsr	r5,call
	000400	
	001130	
150241	001176		puts
150242	001040		b	input
	000062	
150244		
	000700	bulsht:	clr	r0
150245	000711		clr	r1
150246	001274		mov	ibuf,r4
	150364	
150250	001275	bu.1:	mov	secret,r5
	150360	
150252	001242		mov	@r4+,r2
150253	001552	bu.2:	cmp	@r5+,r2
150254	001014		bneq	bu.3
	000012	
150256	000243		mov	r4,r3
150257	000453		sub	r5,r3
150260	001573		cmp	ibuf-secret,r3
	000004	
150262	001014		bneq	bu.4
	000003	
150264	000010		inc	r0
150265	001000		b	bu.3
	000001	
150267	000011	bu.4:	inc	r1
150270	001575	bu.3:	cmp	secret+4,r5
	150364	
150272	001054		bneq	bu.2
	000020	
150274	001574		cmp	ibuf+4,r4
	150370	
150276	001054		bneq	bu.1
	000027	
150300	001100		mov	r0,@bulls
	150356	
150302	001101		mov	r1,@cows
	150357	
150304	001000		jmp	ret
	030661	
150306		
	047145	newmes:	.ascii	/New game:/
	073440	
	063541	
	066545	
150312	035015		.byte	15,12,0
	005000	
150314			.wordb
	066557	moomes:	.ascii	/mooooooo!/
	067557	
	067557	
	067557	
150320	020415		.byte	15,12,0
	005000	
150322			.wordb
	006412	gormes:	.byte	15,12
150323	051541		.ascii	/Say what?/
	074440	
	073550	
	060564	
150327	037415		.byte	15,12,0
	005000	
150331			.wordb
			.byte	0
	000000		.wordb
150332	020147	guemes:	.ascii	/ guesses./
	072545	
	071563	
	062563	
150336	027015		.byte	15,12,0
	005000	
150340			.wordb
	037440	promes:	.asciz	/? /
150341	000000		.wordb
150342	006412	nlmes:	.byte	15,12,0
150343	000000		.wordb
150344	020142	bulmes:	.asciz	/ bulls, /
	072554	
	066163	
	026040	
150350	000000		.wordb
150351	020143	cowmes:	.ascii	/ cows./
	067567	
	071456	
150354	006412		.byte	15,12,0
150355	000000		.wordb
150356	000000	bulls:	0
150357	000000	cows:	0
150360	000000	secret:	.word	0,0,0,0
	000000	
	000000	
	000000	
150364	000000	ibuf:	.word	0,0,0,0
	000000	
	000000	
	000000	
150370		
		.incld	putd.16
	000733	putd:	clr	r3
150371	001163		mov	r3,@sp+
150372	000200		tst	r0
150373	001003		bpl	pd.1
	000001	
150375	000013		inc	r3
150376	000201	pd.1:	mov	r0,r1
150377	001272	pd.2:	mov	12,r2
	000012	
150401	000700		clr	r0
150402	000233		tst	r3
150403	001004		beq	pd.5
	000001	
150405	000020		dec	r0
150406	000004	pd.5:	jsr	r5,call
	000400	
	001130	
150411	001416		div
150412	000233		tst	r3
150413	001004		beq	pd.3
	000001	
150415	000040		neg	r0
150416	001370	pd.3:	add	'0,r0
	000060	
150420	001160		mov	r0,@sp+
150421	000211		tst	r1
150422	001054		bneq	pd.2
	000024	
150424	000233		tst	r3
150425	001004		beq	pd.4
	000003	
150427	001270		mov	'-,r0
	000055	
150431	001160		mov	r0,@sp+
150432	001260	pd.4:	mov	@-sp,r0
150433	000200		tst	r0
150434	001004		beq	ret
	030531	
150436	000004		jsr	r5,call
	000400	
	001130	
150441	001600		pchr0
150442	001040		b	pd.4
	000011	
150444		.incld	rand.16
	001100	srand:	mov	r0,@seed
	150471	
150446	001000		jmp	ret
	030517	
150450		
	001201	rand:	mov	@seed,r1
	150471	
150452	001272		mov	13077.,r2
	031425	
150454	000004		jsr	r5,call
	000400	
	001130	
150457	001533		mul
150460	001371		add	6925.,r1
	015415	
150462	001101		mov	r1,@seed
	150471	
150464	001671		and	77777,r1
	077777	
150466	000210		mov	r1,r0
150467	001000		jmp	ret0
	030472	
150471		
	000001	seed:	1
150472		

Symbol Table

bu.1     =	150250	bu.2     =	150253	bu.3     =	150270	
bu.4     =	150267	bulls    =	150356	bulmes   =	150344	
bulsht   =	150244	call     =	001130	cowmes   =	150351	
cows     =	150357	div      =	001416	gchr0    =	001635	
gchr1    =	001643	getchr   =	000512	gormes   =	150322	
guemes   =	150332	ibuf     =	150364	in       =	150027	
in.1     =	150226	in.2     =	150213	in.3     =	150223	
in.go    =	150234	in.lo    =	150171	init0    =	001566	
init1    =	001573	input    =	150161	ischr0   =	001622	
ischr1   =	001626	moo      =	150076	moomes   =	150314	
mul      =	001533	newg     =	150014	newln    =	001105	
newmes   =	150306	nlmes    =	150342	pchr0    =	001600	
pchr1    =	001606	pd.1     =	150376	pd.2     =	150377	
pd.3     =	150416	pd.4     =	150432	pd.5     =	150406	
promes   =	150340	putd     =	150370	putoct   =	001226	
puts     =	001176	rand     =	150450	rcall    =	001125	
ret      =	001167	ret0     =	001163	ret1     =	001156	
ret2     =	001151	ret3     =	001144	ret4     =	001140	
se.ch    =	150142	se.lo    =	150124	se.ok    =	150152	
secret   =	150360	seed     =	150471	select   =	150121	
space    =	001115	srand    =	150444	st.1     =	150003	
start    =	150000	
