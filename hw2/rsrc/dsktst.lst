000000		.	=	3000
003000		
		rcall	=	170753
		call	=	170756
		ret4	=	170766
		ret3	=	170774
		ret2	=	171000
		ret1	=	171004
		ret0	=	171010
		ret	=	171013
		mul	=	171442
		newln	=	170732
		putoct	=	171107
		
		;
		; Floppy Disk Test Program
		;
		
		FDCSR	=	177750
		FDTRAK	=	177751
		FDSECT	=	177752
		FDDATA	=	177753
		
		FDREG	=	177766
		
		CLC	=	1
		RESET	=	2
		IEN	=	4
		BUFENB	=	10
		RDWRT	=	20
		DSEL	=	40
		HDLD0	=	100
		HDLD1	=	200
		DRQ	=	400
		IRQ	=	1000
	001271	start:	mov	30, r1
	000030	
003002	000031		com	r1
003003	001270		mov	50, r0
	000050	
003005	000004		jsr	r5, call
	000760	
	000756	
003010	003124		srand
003011	001270		mov	HDLD0, r0
	000100	
003013	001100		mov	r0, @FDREG
	177766	
003015	001274	rdtrk:	mov	3400, r4
	003400	
003017	001270		mov	345, r0
	000345	
003021	000030		com	r0
003022	001100		mov	r0, @FDCSR+4
	177754	
003024	001272		mov	FDREG, r2
	177766	
003026	001273		mov	IRQ, r3
	001000	
003030	001275		mov	DRQ, r5
	000400	
003032	001220	rdloop:	mov	@r2, r0
003033	000201		mov	r0, r1
003034	000631		and	r3, r1
003035	001004		bze	pstat
	000010	
003037	000650		and	r5, r0
003040	001054		bnze	rdloop
	000007	
003042	001200		mov	@FDDATA, r0
	177753	
003044	001140		mov	r0, @r4+
003045	001040		b	rdloop
	000014	
003047	001200	pstat:	mov	@FDCSR, r0
	177750	
003051	000030		com	r0
003052	000004		jsr	r5, call
	000760	
	000756	
003055	171107		putoct
003056	000004		jsr	r5, call
	000760	
	000756	
003061	170732		newln
003062	001040		b	ret
	012050	
003064	000004	loop:	jsr	r5, call
	000760	
	000756	
003067	003130		rand
003070	001670		and	77, r0
	000077	
003072	000030		com	r0
003073	001100		mov	r0, @FDDATA+4
	177757	
003075	001101		mov	r1, @FDCSR+4
	177754	
003077	001200	wloop:	mov	@FDREG, r0
	177766	
003101	001670		and	IRQ, r0
	001000	
003103	001054		bnze	wloop
	000005	
003105	001200		mov	@FDCSR, r0
	177750	
003107	000030		com	r0
003110	001670		and	377, r0
	000377	
003112	000004		jsr	r5, call
	000760	
	000756	
003115	171107		putoct
003116	000004		jsr	r5, call
	000760	
	000756	
003121	170732		newln
003122	001040		b	loop
	000037	
003124		
		.incld rand.16
	001100	srand:	mov	r0,@seed
	003151	
003126	001040		jmp	ret
	012114	
003130		
	001201	rand:	mov	@seed,r1
	003151	
003132	001272		mov	13077.,r2
	031425	
003134	000004		jsr	r5,call
	000760	
	000756	
003137	171442		mul
003140	001371		add	6925.,r1
	015415	
003142	001101		mov	r1,@seed
	003151	
003144	001671		and	77777,r1
	077777	
003146	000210		mov	r1,r0
003147	001040		jmp	ret0
	012140	
003151		
	000001	seed:	1
003152		

Symbol Table

BUFENB   =	000010	CLC      =	000001	DRQ      =	000400	
DSEL     =	000040	FDCSR    =	077750	FDDATA   =	077753	
FDREG    =	077766	FDSECT   =	077752	FDTRAK   =	077751	
HDLD0    =	000100	HDLD1    =	000200	IEN      =	000004	
IRQ      =	001000	RDWRT    =	000020	RESET    =	000002	
call     =	070756	loop     =	003064	mul      =	071442	
newln    =	070732	pstat    =	003047	putoct   =	071107	
rand     =	003130	rcall    =	070753	rdloop   =	003032	
rdtrk    =	003015	ret      =	071013	ret0     =	071010	
ret1     =	071004	ret2     =	071000	ret3     =	070774	
ret4     =	070766	seed     =	003151	srand    =	003124	
start    =	003000	wloop    =	003077	
