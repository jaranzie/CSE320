000000		.	=	2200
002200		.incld	defs.16
		;	Locations of useful monitor routines
		;
		getchr	=	512
		newln	=	1105
		space	=	1115
		rcall	=	1125
		call	=	1130
		ret4	=	1140
		ret3	=	1144
		ret2	=	1151
		ret1	=	1156
		ret0	=	1163
		ret	=	1167
		puts	=	1176
		putoct	=	1226
		div	=	1416
		mul	=	1533
		gchr0	=	1635
		gchr1	=	1643
		pchr0	=	1600
		pchr1	=	1606
		init0	=	1566
		init1	=	1573
		ischr0	=	1622
		ischr1	=	1626
		
	000004		jsr	r5, call
	000400	
	001130	
002203	002470		pinit
002204	000004	type:	jsr	r5, call
	000400	
	001130	
002207	000512		getchr
002210	000004		jsr	r5, call
	000400	
	001130	
002213	002416		pputc
002214	001040		b	type
	000011	
002216		
		.incld ptr.16
		;
		; Printer Driver Routines
		;
		
		NULL	=	0
		SPACE	=	101
		TAB	=	201
		BACK	=	3
		LF	=	21
		UP	=	11
		DOWN	=	5
		RETURN	=	41
		
		PTRSTAT	=	177760
		PTRDATA	=	177761
		
		RDY	=	1
		IEN	=	200
		ERR	=	2
		EOF	=	4
		EOL	=	10
		
	000000	ctab:	.word	NULL,	NULL,	NULL,	NULL
	000000	
	000000	
	000000	
002222	000000		.word	NULL,	NULL,	NULL,	NULL
	000000	
	000000	
	000000	
002226	000003		.word	BACK,	TAB,	LF,	NULL
	000201	
	000021	
	000000	
002232	000000		.word	NULL,	RETURN,	NULL,	NULL
	000041	
	000000	
	000000	
002236	000000		.word	NULL,	NULL,	NULL,	NULL
	000000	
	000000	
	000000	
002242	000000		.word	NULL,	NULL,	NULL,	NULL
	000000	
	000000	
	000000	
002246	000000		.word	NULL,	NULL,	NULL,	NULL
	000000	
	000000	
	000000	
002252	000000		.word	NULL,	NULL,	NULL,	NULL
	000000	
	000000	
	000000	
002256	000101		.word	SPACE,	600,	714,	300
	000600	
	000714	
	000300	
002262	000200		.word	200,	764,	004,	710
	000764	
	000004	
	000710	
002266	000740		.word	740,	770,	744,	404
	000770	
	000744	
	000404	
002272	000100		.word	100,	204,	002,	174
	000204	
	000002	
	000174	
002276	000370		.word	370,	374,	330,	334
	000374	
	000330	
	000334	
002302	000350		.word	350,	354,	320,	324
	000354	
	000320	
	000324	
002306	000344		.word	344,	340,	750,	734
	000340	
	000750	
	000734	
002312	000101		.word	SPACE,	774,	SPACE,	574
	000774	
	000101	
	000574	
002316	000104		.word	104,	074,	030,	034
	000074	
	000030	
	000034	
002322	000050		.word	050,	054,	020,	024
	000054	
	000020	
	000024	
002326	000044		.word	044,	040,	274,	230
	000040	
	000274	
	000230	
002332	000234		.word	234,	250,	254,	210
	000250	
	000254	
	000210	
002336	000224		.word	224,	244,	240,	130
	000244	
	000240	
	000130	
002342	000134		.word	134,	150,	164,	120
	000150	
	000164	
	000120	
002346	000124		.word	124,	144,	140,	SPACE
	000144	
	000140	
	000101	
002352	000101		.word	SPACE,	SPACE,	SPACE,	670
	000101	
	000101	
	000670	
002356	000101		.word	SPACE,	074,	030,	034
	000074	
	000030	
	000034	
002362	000050		.word	050,	054,	020,	024
	000054	
	000020	
	000024	
002366	000044		.word	044,	040,	274,	230
	000040	
	000274	
	000230	
002372	000234		.word	234,	250,	254,	210
	000250	
	000254	
	000210	
002376	000224		.word	224,	244,	240,	130
	000244	
	000240	
	000130	
002402	000134		.word	134,	150,	164,	120
	000150	
	000164	
	000120	
002406	000124		.word	124,	144,	140,	SPACE
	000144	
	000140	
	000101	
002412	000040		.word	040,	SPACE,	SPACE,	NULL
	000101	
	000101	
	000000	
002416		
	001670	pputc:	and	177, r0
	000177	
002420	001370		add	ctab, r0
	002216	
002422	000201		mov	r0, r1
002423	001210		mov	@r1, r0
002424	001570		cmp	NULL, r0
	000000	
002426	001044		beq	ret
	001240	
002430	001271		mov	400, r1
	000400	
002432	000601		and	r0, r1
002433	001272		mov	377, r2
	000377	
002435	000620		and	r2, r0
002436	001160		mov	r0, @sp+
002437	001202		mov	@shft, r2
	002503	
002441	000521		cmp	r2, r1
002442	001004		beq	pp.1
	000015	
002444	001270		mov	UP, r0
	000011	
002446	000211		tst	r1
002447	001014		bneq	pp.2
	000002	
002451	001270		mov	DOWN, r0
	000005	
002453	000004	pp.2:	jsr	r5, call
	000400	
	001130	
002456	002504		rpputc
002457	001101		mov	r1, @shft
	002503	
002461	001260	pp.1:	mov	@-sp, r0
002462	000004		jsr	r5, call
	000400	
	001130	
002465	002504		rpputc
002466	001040		jmp	ret
	001300	
002470		
	001270	pinit:	mov	RETURN | DOWN, r0
	000045	
002472	000004		jsr	r5, call
	000400	
	001130	
002475	002504		rpputc
002476	000700		clr	r0
002477	001100		mov	r0, @shft
	002503	
002501	001040		jmp	ret
	001313	
002503		
	000000	shft:	0
002504		
	001201	rpputc:	mov	@PTRSTAT,r1
	177760	
002506	001671		and	RDY,r1
	000001	
002510	001044		bze	rpputc
	000005	
002512	001100		mov	r0,@PTRDATA
	177761	
002514	001040		jmp	ret
	001326	
002516		

Symbol Table

BACK     =	000003	DOWN     =	000005	EOF      =	000004	
EOL      =	000010	ERR      =	000002	IEN      =	000200	
LF       =	000021	NULL     =	000000	PTRDATA  =	077761	
PTRSTAT  =	077760	RDY      =	000001	RETURN   =	000041	
SPACE    =	000101	TAB      =	000201	UP       =	000011	
call     =	001130	ctab     =	002216	div      =	001416	
gchr0    =	001635	gchr1    =	001643	getchr   =	000512	
init0    =	001566	init1    =	001573	ischr0   =	001622	
ischr1   =	001626	mul      =	001533	newln    =	001105	
pchr0    =	001600	pchr1    =	001606	pinit    =	002470	
pp.1     =	002461	pp.2     =	002453	pputc    =	002416	
putoct   =	001226	puts     =	001176	rcall    =	001125	
ret      =	001167	ret0     =	001163	ret1     =	001156	
ret2     =	001151	ret3     =	001144	ret4     =	001140	
rpputc   =	002504	shft     =	002503	space    =	001115	
type     =	002204	
