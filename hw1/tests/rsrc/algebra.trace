# [(+ x 0), x]
# [(+ 0 x), x]
# [(+ (+ x y) z), (+ x (+ y z))]
# [(* x 0), 0]
# [(* 0 x), 0]
# [(* x 1), x]
# [(* 1 x), x]
# [(* (* x y) z), (* x (* y z))]
# [(* x (+ y z)), (+ (* x y) (* x z))]
# [(* (+ x y) z), (+ (* x z) (* y z))]
# [(- x 0), x]
# [(- x x), 0]
# [(- (+ x y) x), y]
# [(- (+ x y) y), x]
# (* (* (+ A B) (+ A 1)) (+ A 0))
(* (* (+ A B) (+ A 1)) (+ A 0))
.(* (* (+ A B) (+ A 1)))
..*
..(* (+ A B) (+ A 1))
...(* (+ A B))
....*
....(+ A B)
.....(+ A)
......+
......A
.....B
...(+ A 1)
....(+ A)
.....+
.....A
....1
..(* (+ A B) (+ A 1))
==> rule: [(* (+ x y) z), (+ (* x z) (* y z))], subst: [z, (+ A 1)] [y, B] [x, A] .
..(+ (* A (+ A 1)) (* B (+ A 1)))
...(+ (* A (+ A 1)))
....+
....(* A (+ A 1))
.....(* A)
......*
......A
.....(+ A 1)
......(+ A)
.......+
.......A
......1
....(* A (+ A 1))
==> rule: [(* x (+ y z)), (+ (* x y) (* x z))], subst: [z, 1] [y, A] [x, A] .
....(+ (* A A) (* A 1))
.....(+ (* A A))
......+
......(* A A)
.......(* A)
........*
........A
.......A
.....(* A 1)
......(* A)
.......*
.......A
......1
.....(* A 1)
==> rule: [(* x 1), x], subst: [x, A] .
.....A
...(* B (+ A 1))
....(* B)
.....*
.....B
....(+ A 1)
.....(+ A)
......+
......A
.....1
...(* B (+ A 1))
==> rule: [(* x (+ y z)), (+ (* x y) (* x z))], subst: [z, 1] [y, A] [x, B] .
...(+ (* B A) (* B 1))
....(+ (* B A))
.....+
.....(* B A)
......(* B)
.......*
.......B
......A
....(* B 1)
.....(* B)
......*
......B
.....1
....(* B 1)
==> rule: [(* x 1), x], subst: [x, B] .
....B
..(+ (+ (* A A) A) (+ (* B A) B))
==> rule: [(+ (+ x y) z), (+ x (+ y z))], subst: [z, (+ (* B A) B)] [y, A] [x, (* A A)] .
..(+ (* A A) (+ A (+ (* B A) B)))
...(+ (* A A))
....+
....(* A A)
.....(* A)
......*
......A
.....A
...(+ A (+ (* B A) B))
....(+ A)
.....+
.....A
....(+ (* B A) B)
.....(+ (* B A))
......+
......(* B A)
.......(* B)
........*
........B
.......A
.....B
.(+ A 0)
..(+ A)
...+
...A
..0
.(+ A 0)
==> rule: [(+ x 0), x], subst: [x, A] .
.A
(* (+ (* A A) (+ A (+ (* B A) B))) A)
==> rule: [(* (+ x y) z), (+ (* x z) (* y z))], subst: [z, A] [y, (+ A (+ (* B A) B))] [x, (* A A)] .
(+ (* (* A A) A) (* (+ A (+ (* B A) B)) A))
.(+ (* (* A A) A))
..+
..(* (* A A) A)
...(* (* A A))
....*
....(* A A)
.....(* A)
......*
......A
.....A
...A
..(* (* A A) A)
==> rule: [(* (* x y) z), (* x (* y z))], subst: [z, A] [y, A] [x, A] .
..(* A (* A A))
...(* A)
....*
....A
...(* A A)
....(* A)
.....*
.....A
....A
.(* (+ A (+ (* B A) B)) A)
..(* (+ A (+ (* B A) B)))
...*
...(+ A (+ (* B A) B))
....(+ A)
.....+
.....A
....(+ (* B A) B)
.....(+ (* B A))
......+
......(* B A)
.......(* B)
........*
........B
.......A
.....B
..A
.(* (+ A (+ (* B A) B)) A)
==> rule: [(* (+ x y) z), (+ (* x z) (* y z))], subst: [z, A] [y, (+ (* B A) B)] [x, A] .
.(+ (* A A) (* (+ (* B A) B) A))
..(+ (* A A))
...+
...(* A A)
....(* A)
.....*
.....A
....A
..(* (+ (* B A) B) A)
...(* (+ (* B A) B))
....*
....(+ (* B A) B)
.....(+ (* B A))
......+
......(* B A)
.......(* B)
........*
........B
.......A
.....B
...A
..(* (+ (* B A) B) A)
==> rule: [(* (+ x y) z), (+ (* x z) (* y z))], subst: [z, A] [y, B] [x, (* B A)] .
..(+ (* (* B A) A) (* B A))
...(+ (* (* B A) A))
....+
....(* (* B A) A)
.....(* (* B A))
......*
......(* B A)
.......(* B)
........*
........B
.......A
.....A
....(* (* B A) A)
==> rule: [(* (* x y) z), (* x (* y z))], subst: [z, A] [y, A] [x, B] .
....(* B (* A A))
.....(* B)
......*
......B
.....(* A A)
......(* A)
.......*
.......A
......A
...(* B A)
....(* B)
.....*
.....B
....A
(+ (* A (* A A)) (+ (* A A) (+ (* B (* A A)) (* B A))))
